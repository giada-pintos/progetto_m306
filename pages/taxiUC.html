<!DOCTYPE html>
<html>

<head>
    <title>Taxi</title>

    <link rel="stylesheet" href="../src/css/style.css">
    <link rel="stylesheet" href="../src/css/menu.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <style>

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
            margin-bottom: 10px;
        }

            .toggle-switch input[type="checkbox"] {
                display: none;
            }

            .toggle-switch label {
                display: block;
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                border-radius: 34px;
                background-color: #ccc;
                cursor: pointer;
                transition: background-color 0.3s;
            }

                .toggle-switch label::after {
                    content: '';
                    display: block;
                    position: absolute;
                    top: 2px;
                    left: 2px;
                    width: 30px;
                    height: 30px;
                    border-radius: 50%;
                    background-color: #fff;
                    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
                    transition: transform 0.3s;
                }

            .toggle-switch input[type="checkbox"]:checked + label {
                background-color: #4CAF50;
            }

                .toggle-switch input[type="checkbox"]:checked + label::after {
                    transform: translateX(26px);
                }
    </style>

</head>

<body onload="startUp()">

    <!--MENU-->
    <div id="containerMenu"></div>

    <section class="content">
        <div id="nome_cognome_disponibilita">
            <h2 id="nome_cognome"></h2>
            <div class="toggle-switch">
                <input type="checkbox" class="toggle-switch-checkbox">
                <label class="toggle-switch-label" for="toggle-switch"></label>
            </div>
        </div>
    </section>


    <!--real key AIzaSyC6vzkzpZK90_Z332xUtnL9rxWZ_es8qHE-->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyASCBj4N9KGXvIamrcz5oZUlxyOA-L8kWE"
            async></script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        var userData = JSON.parse(localStorage.getItem('userData'));



        $(document).ready(function () {
            // Otteniamo il nome e il cognome dall'oggetto userData
            const nomeCognome = userData.firstName + " " + userData.lastName;

            // Aggiorniamo il testo nel div #nome_cognome
            $("#nome_cognome").text(nomeCognome);

            // Aggiungiamo un listener all'evento change del toggle-switch
            $(".toggle-switch-checkbox").change(function () {
                const disponibile = $(this).prop("checked");

                // In base alla disponibilità, aggiorniamo il testo nel div #nome_cognome_disponibilita
                if (disponibile) {
                    $("#nome_cognome_disponibilita").text(nomeCognome + " è disponibile");
                } else {
                    $("#nome_cognome_disponibilita").text(nomeCognome + " non è disponibile");
                }
            });
        });



    </script>

    <!--SCRIPT-->
    <script type="text/javascript" src="../src/js/menu.js"></script>
    <script type="text/javascript" src="../src/js/onload_index.js"></script>

</body>

</html>